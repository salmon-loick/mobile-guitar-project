ext.flutter = [
        compileSdkVersion: 34,
        minSdkVersion    : 21,
        targetSdkVersion : 34,
        ndkVersion       : "25.1.8937393",
        source : ".."
]

allprojects {
    repositories {
        google()
        mavenCentral()
    }

}

rootProject.buildDir = "../build"
subprojects {
    project.buildDir = "${rootProject.buildDir}/${project.name}"
}
subprojects {
    afterEvaluate { proj ->
        if (proj.hasProperty("android")) {
            try {
                proj.android.compileSdkVersion = 34
                if (proj.android.hasProperty("defaultConfig")) {
                    proj.android.defaultConfig.minSdkVersion = 21
                    proj.android.defaultConfig.targetSdkVersion = 34
                }
            } catch (ignore) { /* certains modules peuvent Ã©chouer, on ignore */ }
        }
    }
}

tasks.register("clean", Delete) {
    delete rootProject.buildDir
}
